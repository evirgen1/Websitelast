{{- define "main" }}

<article class="course-page">
  <header class="course-header">
    <h1 class="course-title">{{ .Title }}</h1>
    
    <div class="course-meta">
      {{- if .Params.course_number }}
      <div class="course-detail">
        <span class="detail-label">Course Number:</span>
        <span class="detail-value">{{ .Params.course_number }}</span>
      </div>
      {{- end }}
      
      {{- if .Params.semester }}
      <div class="course-detail">
        <span class="detail-label">Semester:</span>
        <span class="detail-value semester">{{ .Params.semester }}</span>
      </div>
      {{- end }}
      
      {{- if .Params.level }}
      <div class="course-detail">
        <span class="detail-label">Level:</span>
        <span class="detail-value level">{{ .Params.level }}</span>
      </div>
      {{- end }}
    </div>
    
    <div class="course-links">
      {{- if .Params.syllabus }}
      <a href="{{ .Params.syllabus }}" class="course-link syllabus-link" target="_blank" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
        Syllabus
      </a>
      {{- end }}
      
      {{- if .Params.course_site }}
      <a href="{{ .Params.course_site }}" class="course-link website-link" target="_blank" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
        Course Website
      </a>
      {{- end }}
    </div>
    
    {{- if .Params.summary }}
    <div class="course-summary">
      {{ .Params.summary }}
    </div>
    {{- end }}
  </header>

  <div class="course-content">
    {{ .Content }}
  </div>
</article>

<style>
  /* Course Page Styling */
  .course-page {
    max-width: 800px;
    margin: 0 auto;
  }
  
  .course-header {
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid var(--border);
  }
  
  .course-title {
    margin-bottom: 1.2rem;
  }
  
  .course-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 1.2rem;
    margin-bottom: 1.2rem;
  }
  
  .course-detail {
    display: flex;
    align-items: center;
    font-size: 0.95rem;
  }
  
  .detail-label {
    font-weight: 600;
    margin-right: 0.5rem;
    color: var(--secondary);
  }
  
  .detail-value {
    color: var(--primary);
  }
  
  .detail-value.semester, .detail-value.level {
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
    font-size: 0.85rem;
  }
  
  .detail-value.semester {
    background-color: var(--primary);
    color: var(--theme);
  }
  
  .detail-value.level {
    background-color: var(--tertiary);
    color: var(--primary);
  }
  
  .course-links {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 1.5rem;
  }
  
  .course-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.4rem 0.8rem;
    font-size: 0.9rem;
    border-radius: 4px;
    text-decoration: none;
    transition: opacity 0.2s;
  }
  
  .syllabus-link {
    background-color: var(--primary);
    color: var(--theme);
  }
  
  .website-link {
    background-color: var(--tertiary);
    color: var(--primary);
  }
  
  .course-link:hover {
    opacity: 0.85;
  }
  
  .course-summary {
    font-size: 1.1rem;
    line-height: 1.5;
    padding: 1rem;
    background-color: var(--code-bg);
    border-radius: 5px;
    border-left: 4px solid var(--primary);
  }
  
  .course-content {
    line-height: 1.6;
    font-size: 1.05rem;
  }
  
  .course-content h2 {
    margin-top: 2rem;
    margin-bottom: 1rem;
    padding-bottom: 0.3rem;
    border-bottom: 1px solid var(--border);
  }
  
  .course-content h3 {
    margin-top: 1.5rem;
    margin-bottom: 0.8rem;
  }
  
  .course-content ul, .course-content ol {
    padding-left: 1.5rem;
    margin-bottom: 1.5rem;
  }
  
  .course-content li {
    margin-bottom: 0.5rem;
  }
  
  .course-content table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 1.5rem;
  }
  
  .course-content th {
    text-align: left;
    padding: 0.8rem;
    background-color: var(--code-bg);
    border-bottom: 2px solid var(--border);
  }
  
  .course-content td {
    padding: 0.8rem;
    border-bottom: 1px solid var(--border);
  }
  
  .course-content tr:nth-child(even) {
    background-color: var(--code-bg);
  }
  
  .course-content code {
    background-color: var(--code-bg);
    padding: 0.2em 0.4em;
    border-radius: 3px;
    font-size: 0.9em;
  }
  
  .course-content pre {
    background-color: var(--code-bg);
    padding: 1rem;
    border-radius: 5px;
    overflow: auto;
    margin-bottom: 1.5rem;
  }
  
  .course-content blockquote {
    margin: 1.5rem 0;
    padding: 1rem 1.5rem;
    border-left: 4px solid var(--primary);
    background-color: var(--code-bg);
    font-style: italic;
  }
  
  @media (max-width: 768px) {
    .course-meta {
      flex-direction: column;
      gap: 0.8rem;
    }
  }
</style>

{{- end }}{{/* end main */}} 